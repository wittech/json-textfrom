



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>JSON Schema Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#forign-key" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="JSON Schema Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              JSON Schema Docs
            </span>
            <span class="md-header-nav__topic">
              
                ForignKey
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="JSON Schema Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    JSON Schema Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        ForignKey
      </label>
    
    <a href="./" title="ForignKey" class="md-nav__link md-nav__link--active">
      ForignKey
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    Basic usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-defined-value" class="md-nav__link">
    Pre-defined value
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actions-and-icons" class="md-nav__link">
    Actions and icons
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../selection/" title="Selection Field" class="md-nav__link">
      Selection Field
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    Basic usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-defined-value" class="md-nav__link">
    Pre-defined value
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actions-and-icons" class="md-nav__link">
    Actions and icons
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="forign-key">Forign Key</h1>
<h2 id="basic-usage">Basic usage</h2>
<p>if you have a schema like this</p>
<pre><code class="json">{
  &quot;label&quot;: &quot;category&quot;,
  &quot;readonly&quot;: true,
  &quot;extra&quot;: { &quot;related_model&quot;: &quot;storage-management/category&quot; },
  &quot;name&quot;: &quot;category_name&quot;,
  &quot;widget&quot;: &quot;foreignkey&quot;,
  &quot;required&quot;: false,
  &quot;translated&quot;: false,
  &quot;validations&quot;: {}
}
</code></pre>

<p>and dart code like this:</p>
<pre><code class="dart">JSONSchemaForm(
    schema: (snapshot.data['fields'] as List)
        .map((s) =&gt; s as Map&lt;String, dynamic&gt;)
        .toList(),
    url: &quot;http://192.168.1.114:8000&quot;,
);
</code></pre>

<p>then, JSONSchemaForm will automatically go to http://192.168.1.114:8000/<strong>storage_management/category</strong> by using <strong>option</strong> request to fetch the schema for category.</p>
<blockquote>
<p>important notes: The forignkey field is based on the implementation on django's schema,which will replace <strong>storage-management/category</strong> to <strong>storage_management/category</strong>.</p>
</blockquote>
<h2 id="pre-defined-value">Pre-defined value</h2>
<p>suppose you have schema above where your forignkey has name <strong>category_name</strong>. To set pre-define value for the forignkey, use following syntax. schema's name as key, and value is a map where it has two field, one is label and another is value.</p>
<ul>
<li>
<p>label: a text represents the selected field's name which used to display on the main screen.</p>
</li>
<li>
<p>value: a field represents the actual selected value which used to display on the forignkey selection page.</p>
</li>
</ul>
<p>For example, if you have label as "hello", and value is 2. When you on the main screen (before click on select button), it will display "Select category hello". And after you get into the detail page, it will mark radio button hello which has value 2 selected.</p>
<pre><code class="dart">JSONSchemaForm(
    rounded: true,
    controller: controller,
    schema: (snapshot.data['fields'] as List)
        .map((s) =&gt; s as Map&lt;String, dynamic&gt;)
        .toList(),
    values: {
            &quot;category_name&quot;: {&quot;label&quot;: &quot;some label&quot;, &quot;value&quot;: 2},
    },
)
</code></pre>

<h2 id="actions-and-icons">Actions and icons</h2>
<p>To use actions and icons for forignkey field (The field displayed after get into the detail page), you need to set schemaFor field. If you want to set the actions/icons for every field with same name, you can set useGlobally to true.</p>
<p>For example, you have you home schema like this</p>
<pre><code class="json">[
  {
    &quot;label&quot;: &quot;category&quot;,
    &quot;readonly&quot;: false,
    &quot;extra&quot;: { &quot;related_model&quot;: &quot;storage-management/category&quot; },
    &quot;name&quot;: &quot;category_id&quot;,
    &quot;widget&quot;: &quot;foreignkey&quot;,
    &quot;required&quot;: false,
    &quot;translated&quot;: false,
    &quot;validations&quot;: {}
  },
  {
    &quot;label&quot;: &quot;Item Name&quot;,
    &quot;readonly&quot;: false,
    &quot;extra&quot;: { &quot;help&quot;: &quot;Please Enter your item name&quot;, &quot;default&quot;: &quot;&quot; },
    &quot;name&quot;: &quot;name&quot;,
    &quot;widget&quot;: &quot;text&quot;,
    &quot;required&quot;: true,
    &quot;translated&quot;: false,
    &quot;validations&quot;: {
      &quot;length&quot;: { &quot;maximum&quot;: 1024 }
    }
  }
]
</code></pre>

<p>And the schema for you category has the following schema</p>
<pre><code class="json">[
  {
    &quot;label&quot;: &quot;Item Name&quot;,
    &quot;readonly&quot;: false,
    &quot;extra&quot;: { &quot;help&quot;: &quot;Please Enter your item name&quot;, &quot;default&quot;: &quot;&quot; },
    &quot;name&quot;: &quot;name&quot;,
    &quot;widget&quot;: &quot;text&quot;,
    &quot;required&quot;: true,
    &quot;translated&quot;: false,
    &quot;validations&quot;: {
      &quot;length&quot;: { &quot;maximum&quot;: 1024 }
    }
  }
]
</code></pre>

<p>you can define an action for the Item name field (which is inside the category) like this. Note that schemaFor's value is the same as the name field's value in your main schema.</p>
<pre><code class="dart"> FieldAction&lt;File&gt;(
        schemaName: &quot;name&quot;,
        schemaFor: &quot;category_id&quot;,
        actionTypes: ActionTypes.image,
        actionDone: ActionDone.getInput,
        onDone: (File file) async {

        }
)
</code></pre>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../selection/" title="Selection Field" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Selection Field
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>